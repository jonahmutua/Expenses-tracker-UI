<h2 mat-dialog-title>
  {{ mode === 'edit' ? 'Edit Expense' : 'Add Expense'}}
</h2>

<mat-dialog-content class="dialog-content" [formGroup]="expenseForm">

  <!-- Expense Type -->
  <mat-form-field  appearance="outline" class="full-width">
    <mat-label>Expense Type</mat-label>
    <input matInput formControlName="expenseType" />
    @if ( f.expenseType.touched && f.expenseType.invalid ) {
      <mat-error>Type is required (min 3 chars)</mat-error>
    }
  </mat-form-field>

  <!-- Category -->
  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Category</mat-label>
    <input matInput formControlName="category" />
    @if (f.category.touched && f.category.invalid) {
      <mat-error>Category is required</mat-error>
    }
  </mat-form-field>

  <!-- Date -->
   <mat-form-field appearance="outline" class="full-width">
    <mat-label>lastUpdateAt</mat-label>
    <input matInput formControlName="date" />
    @if (f.date.touched && f.date.invalid) {
      <mat-error>Date is required</mat-error>
    }
  </mat-form-field>


  <!-- Amount -->
  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Amount</mat-label>
    <input matInput type="number" formControlName="amount" />
    @if (f.amount.touched && f.amount.invalid) {
      <mat-error>Enter a valid amount</mat-error>
    }
  </mat-form-field>


   <!-- Account -->
  @if( mode === 'add'){
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Account</mat-label>
      <input matInput  formControlName="account" />
      @if (f.account.touched && f.account.invalid) {
        <mat-error>Account is required</mat-error>
      }
    </mat-form-field>
  }
  
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="onCancel()">Cancel</button>
  <button mat-flat-button color="primary" (click)="onSave()">
    {{ mode === 'edit' ? 'Save' : 'Add' }}
  </button>
</mat-dialog-actions>
